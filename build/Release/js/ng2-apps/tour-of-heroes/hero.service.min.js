System.register(["@angular/core","@angular/http","rxjs/add/operator/toPromise"],function(t,e){"use strict";var r,n,o,i=(e&&e.id,this&&this.__decorate||function(t,e,r,n){var o,i=arguments.length,s=3>i?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var h=t.length-1;h>=0;h--)(o=t[h])&&(s=(3>i?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s}),s=this&&this.__metadata||function(t,e){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(t,e):void 0};return{setters:[function(t){r=t},function(t){n=t},function(t){}],execute:function(){o=function(){function t(t){this.http=t,this.headers=new n.Headers({"Content-Type":"application/json"}),this.heroesUrl="app/heroes"}return t.prototype.handleError=function(t){return console.error("An error occurred",t),Promise.reject(t.message||t)},t.prototype.getHeroes=function(){return this.http.get(this.heroesUrl).toPromise().then(function(t){return t.json().data})["catch"](this.handleError)},t.prototype.getHero=function(t){return this.getHeroes().then(function(e){return e.find(function(e){return e.id===t})})},t.prototype.update=function(t){var e=this.heroesUrl+"/"+t.id;return this.http.put(e,JSON.stringify(t),{headers:this.headers}).toPromise().then(function(){return t})["catch"](this.handleError)},t.prototype.create=function(t){return this.http.post(this.heroesUrl,JSON.stringify({name:t}),{headers:this.headers}).toPromise().then(function(t){return t.json().data})["catch"](this.handleError)},t.prototype["delete"]=function(t){var e=this.heroesUrl+"/"+t;return this.http["delete"](e,{headers:this.headers}).toPromise().then(function(){return null})["catch"](this.handleError)},t=i([r.Injectable(),s("design:paramtypes",[n.Http])],t)}(),t("HeroService",o)}}});